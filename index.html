<!DOCTYPE html>
<head>
    <meta charset="UTF-8">
    <title>UN modeling</title>
    <link rel="shortcut icon" type="image/png" href="./images/panel_icons/heat/source.png"/>
    <link rel="stylesheet" type="text/css" href="./styles/index_style.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css" integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ==" crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js" integrity="sha512-gZwIG9x3wUXg2hdXF6+rVkLF/0Vi9U8D2Ntg4Ga5I5BZpVkVxlJWbSQtXPSiUTtC0TjtGOmxa1AJPuV0CPthew==" crossorigin=""></script>
    
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    
    <!-- Для кастомных подложек -->
    <script src="./leaflet-providers.js"></script>

    <!-- Модуль для редактирования примитивов-->
    <script src="./Leaflet.Editable.js"></script>

    <!-- Свои модули -->
    <script src="./init-objects.js"></script>
    <script src="./panel-buttons.js"></script>

    <!-- модуль BigImage -->
    <link rel="stylesheet" href="BigImage/Leaflet.BigImage.css">
    <script src="BigImage/Leaflet.BigImage.js"></script>

    <!-- Модуль PolylineDecorator -->
    <script src="PolylineDecorator/leaflet.polylineDecorator.js"></script>
</head>
<body>
    <div id="wrapper">
        <div id="plotPopup">
            <p>Пьезометрический график</p>
            <a id="cross" onclick="closePlotPopup()"><img src="./images/cross.png"></a>
            <table>
                <tr>
                    <td>Начальный узел: </td>
                    <td>
                        <select id="begNode" onchange="piezometricSetNode()">
                            <option disabled selected value="none"> Не выбран </option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <td>Конечный узел: </td>
                    <td>
                        <select id="endNode" onchange="piezometricSetNode()">
                            <option disabled selected value="none"> Не выбран </option>
                        </select>
                    </td>
                </tr>
            </table>
            <button disabled onclick="findAllRoutes()">Найти маршруты</button>
        </div>
        <div id="blackout"></div>
        <div id="map"></div>
        <div id="toolsPanel">
            <div id="addingNodes" hidden>
                <h1>Добавить объект</h1>
                <button id="buttonAddSource"    class="water heat"><label>Источник</label></button>
                <button id="buttonAddReservoir" class="water"><label>Контррезервуар</label></button>
                <button id="buttonAddTower"     class="water"><label>Водонапорная башня</label></button>
                <button id="buttonAddStandpipe" class="water"><label>Колонка</label></button>
                <button id="buttonAddHydrant"   class="water"><label>Гидрант</label></button>
                <button id="buttonAddWell"      class="water heat"><label>Водопроводный колодец</label></button>
                <button id="buttonAddBranch"    class="water heat"><label>Разветвление</label></button>
                <button id="buttonAddConsumer"  class="water heat"><label>Потребитель</label></button>
            </div>
            <div id="calcPanel" hidden>
                <h1>Выполнение расчетов</h1>
                <button onclick="hydraulicСalc()"><label>Гидравлический</label></button>
                <button onclick="showPlotPopup()"><label>Пьезометрический график</label></button>
            </div>
            <div id="buttonsOfControlSchema">
                <h1>Режим работы</h1>
                <button id="saveNetwork" onclick="saveNetwork()" hidden>Сохранить изменения</button>
                <button id="createNetwork" onclick="createNetwork()" hidden>Создать</button>
                <button id="loadNetwork" onclick="getNetworkList()" hidden>Загрузить</button>
                <button id="createWaterNetwork" onclick="chooseMode(true)"> Схема водоснабжения </button>
                <button id="createHeatNetwork"   onclick="chooseMode(false)">Схема теплоснабжения</button>
                <button id="cancelCreateNetwork" onclick="exitMode()" hidden>Выйти из режима</button>
            </div>
        </div>
    </div>
</body>
<script src="./main.js"></script>
<script src="./pipe-popup-events.js"></script>
</html>